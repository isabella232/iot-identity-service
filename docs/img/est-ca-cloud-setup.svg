<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="877" height="662" contentScriptType="application/ecmascript" contentStyleType="text/css" style="width:877px;height:662px" preserveAspectRatio="none" version="1.1" viewBox="0 0 877 662" zoomAndPan="magnify"><defs><filter id="f1h0nf4bkk1t9b" width="300%" height="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4" dy="4" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><text x="389.5" y="26.699" fill="#000" font-family="sans-serif" font-size="18" lengthAdjust="spacingAndGlyphs" textLength="98">Cloud Setup</text><line style="stroke:#a80036;stroke-width:1;stroke-dasharray:5,5" x1="46" x2="46" y1="73.5" y2="614.297"/><line style="stroke:#a80036;stroke-width:1;stroke-dasharray:5,5" x1="571.5" x2="571.5" y1="73.5" y2="614.297"/><line style="stroke:#a80036;stroke-width:1;stroke-dasharray:5,5" x1="626.5" x2="626.5" y1="73.5" y2="614.297"/><rect style="stroke:#a80036;stroke-width:1.5" width="72" height="30.406" x="8" y="38.094" fill="#FEFECE" filter="url(#f1h0nf4bkk1t9b)"/><text x="15" y="58.082" fill="#000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="58">Operator</text><rect style="stroke:#a80036;stroke-width:1.5" width="72" height="30.406" x="8" y="613.297" fill="#FEFECE" filter="url(#f1h0nf4bkk1t9b)"/><text x="15" y="633.285" fill="#000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="58">Operator</text><rect style="stroke:#a80036;stroke-width:1.5" width="41" height="30.406" x="549.5" y="38.094" fill="#FEFECE" filter="url(#f1h0nf4bkk1t9b)"/><text x="556.5" y="58.082" fill="#000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="27">EST</text><rect style="stroke:#a80036;stroke-width:1.5" width="41" height="30.406" x="549.5" y="613.297" fill="#FEFECE" filter="url(#f1h0nf4bkk1t9b)"/><text x="556.5" y="633.285" fill="#000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="27">EST</text><rect style="stroke:#a80036;stroke-width:1.5" width="41" height="30.406" x="604.5" y="38.094" fill="#FEFECE" filter="url(#f1h0nf4bkk1t9b)"/><text x="611.5" y="58.082" fill="#000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="27">DPS</text><rect style="stroke:#a80036;stroke-width:1.5" width="41" height="30.406" x="604.5" y="613.297" fill="#FEFECE" filter="url(#f1h0nf4bkk1t9b)"/><text x="611.5" y="633.285" fill="#000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="27">DPS</text><line style="stroke:#a80036;stroke-width:1" x1="46" x2="88" y1="104.734" y2="104.734"/><line style="stroke:#a80036;stroke-width:1" x1="88" x2="88" y1="104.734" y2="117.734"/><line style="stroke:#a80036;stroke-width:1" x1="47" x2="88" y1="117.734" y2="117.734"/><polygon fill="#A80036" points="57 113.734 47 117.734 57 121.734 53 117.734" style="stroke:#a80036;stroke-width:1"/><text x="53" y="99.561" fill="#000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="7">1</text><text x="64" y="99.561" fill="#000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="81">Create CA cert</text><polygon fill="#A80036" points="560 188.672 570 192.672 560 196.672 564 192.672" style="stroke:#a80036;stroke-width:1"/><line style="stroke:#a80036;stroke-width:1" x1="46" x2="566" y1="192.672" y2="192.672"/><text x="53" y="164.647" fill="#000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="7">2</text><text x="64" y="141.795" fill="#000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="491">Register one or more CA certs with EST server to be used for verifying bootstrap cert,</text><text x="64" y="157.029" fill="#000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="178">minting new EST identity certs,</text><text x="64" y="172.264" fill="#000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="138">minting device CA certs,</text><text x="64" y="187.498" fill="#000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="246">and optionally minting device identity certs</text><path fill="#FBFB77" d="M274,205.6719 L274,550.6719 L865,550.6719 L865,215.6719 L855,205.6719 L274,205.6719" filter="url(#f1h0nf4bkk1t9b)" style="stroke:#a80036;stroke-width:1"/><path fill="#FBFB77" d="M855,205.6719 L855,215.6719 L865,215.6719 L855,205.6719" style="stroke:#a80036;stroke-width:1"/><text x="280" y="222.732" fill="#000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="452">Some on-prem EST servers only support one openssl config for issuing certs.</text><text x="280" y="237.967" fill="#000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="485">For example, they can be configured to only issue CA certs, or only issue client certs,</text><text x="280" y="253.201" fill="#000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="326">or only issue certs that are both client certs and CA certs.</text><text x="280" y="268.435" fill="#000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="407">They cannot be configured to issue certs differently based on the CSR</text><text x="280" y="283.67" fill="#000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="245">or other parameters of the client&apos;s request.</text><text x="280" y="314.139" fill="#000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="335">However, some cloud-based EST servers do support this,</text><text x="280" y="329.373" fill="#000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="463">by letting the user configure different EST endpoints for different kinds of certs.</text><text x="280" y="344.607" fill="#000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="483">So the user could configure one EST endpoint that only issues device identity certs,</text><text x="280" y="359.842" fill="#000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="570">another that only issues device CA certs, and so on. These endpoints have individual configuration,</text><text x="280" y="375.076" fill="#000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="438">so they can issue different kinds of certs with different signing CA certs and</text><text x="280" y="390.31" fill="#000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="157">different issuance policies.</text><text x="280" y="420.779" fill="#000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="368">Since the endpoints are still served by the same server instance,</text><text x="280" y="436.014" fill="#000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="277">the same EST identity cert works for all of them.</text><text x="280" y="451.248" fill="#000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="535">It&apos;s not like multiple independent EST servers that would each require a separate identity cert.</text><text x="280" y="481.717" fill="#000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="455">This means the user could have a single EST endpoint, in which case they have</text><text x="280" y="496.951" fill="#000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="541">a single CA cert that signs both device identity and other certs, or they have multiple endpoints</text><text x="280" y="512.186" fill="#000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="499">where one only signs device identity certs with a CA dedicated for device identity certs.</text><text x="280" y="527.42" fill="#000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="517">In the former case, the common CA is the one they would upload to DPS. In the latter case,</text><text x="280" y="542.654" fill="#000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="338">the device identity CA is the one they would upload to DPS.</text><polygon fill="#A80036" points="615 592.297 625 596.297 615 600.297 619 596.297" style="stroke:#a80036;stroke-width:1"/><line style="stroke:#a80036;stroke-width:1" x1="46" x2="621" y1="596.297" y2="596.297"/><text x="53" y="583.506" fill="#000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="7">3</text><text x="64" y="575.889" fill="#000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="147">Register CA cert with DPS</text><text x="64" y="591.123" fill="#000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="259">to be used for validating device identity certs</text></g></svg>